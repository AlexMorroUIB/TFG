<!doctype html>
<html lang="ca">
<head>
  <title>Bellver Defense</title>
  <link rel="icon" type="image/x-icon" href="/img/favicon.ico">
  <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/MozillaReality/ammo.js@8bbc0ea/builds/ammo.wasm.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-physics-system@v4.2.2/dist/aframe-physics-system.js"></script>
</head>
<body>
<a-scene physics=" driver: ammo; debug: true; debugDrawMode: 1;">
  <script src="/js/main.js"></script>
  <a-assets>
    <a-asset-item id="cart" src="/models/cart.glb"></a-asset-item>
    <img id="cel" src="./textures/cel.jpg">
    <img id="terra" src="/textures/terra.jpg">
    <img id="terra-nrm" src="/textures/terra-nrm.jpg">
    <img id="terra-bosc" src="/textures/terra-bosc.jpg">
    <img id="terra-bosc-nrm" src="/textures/terra-bosc-nrm.jpg">
  </a-assets>
  <a-sky src="#cel" rotation="0 94 0"></a-sky>
  <a-entity position="5 0 0" rotation="0 75 0">
    <!-- Altura dels ulls dels nins ~0.9 user-height="0.9" -->
    <a-camera active="true">
      <a-cursor></a-cursor>
    </a-camera>
    <!-- Ma esquerra -->
    <a-entity static-body="shape: sphere; sphereRadius: 0.05" physics-collider collision-filter="group: hands; collidesWith:interactable; collisionForces: false"
    super-hands="colliderEvent: collisions; colliderEventProperty: els; colliderEndEvent: collisions; colliderEndEventProperty: clearedEls;
    grabStartButtons: gripdown, triggerdown, gripclose; grabEndButtons: gripup, triggerup, gripclose" hand-controls="hand: left" hand-tracking-controls="hand: left"
    shadow="cast: false" velocity magicleap-controls vive-controls oculus-touch-controls windows-motion-controls hp-mixed-reality></a-entity>
    <!-- Ma dreta -->
  <a-entity static-body="shape: sphere; sphereRadius: 0.05" physics-collider collision-filter="group: hands; collidesWith:interactable; collisionForces: false"
  super-hands="colliderEvent: collisions; colliderEventProperty: els; colliderEndEvent: collisions; colliderEndEventProperty: clearedEls;
  grabStartButtons: gripdown, triggerdown, gripclose; grabEndButtons: gripup, triggerup, gripclose" hand-controls="hand: right" hand-tracking-controls="hand: right"
  shadow="cast: false" velocity magicleap-controls vive-controls oculus-touch-controls windows-motion-controls hp-mixed-reality></a-entity>
  </a-entity>
  <!-- Terra -->
  <a-plane
    material="color: #FFF; src: #terra; repeat: 1 6; normal-map: #terra-nrm; normal-texture-repeat: 1 6; normal-scale: 1 -1; roughness: 0.9"
    scale="4 20 1" rotation="-90 0 0" ammo-body="type: static; collisionFilterGroup: 1; collisionFilterMask: 1;" ammo-shape="type: box"></a-plane>
  <a-sphere color="#FFAA00" radius="0.5" position="-1 4 -4" ammo-body="type: dynamic; collisionFilterGroup: 1; collisionFilterMask: 1;" ammo-shape="type: sphere">
  </a-sphere>
  <!--  <a-entity geometry="box" position="-1 1 -2" color="#D9614C"></a-entity>-->
  <!--  <a-entity id="vagoneta" vagoneta="message: asdf" position="-1 1 -2"></a-entity>-->
  <a-entity gltf-model="#cart" scale="0.5 0.5 0.5" position="0 0.9 -2" rotation="0 270 0"
            animation__moure="property: position; to: 0 0.9 50; dur: 20000; easing: linear; loop: false">
  </a-entity>
  <a-entity
  geometry="primitive: box"
  material="color: red"
  animation__mouseenter="property: components.material.material.color; type: color; to: blue; startEvents: mouseenter; dur: 500";
  animation__mouseleave="property: components.material.material.color; type: color; to: red; startEvents: mouseleave; dur: 500";>
</a-entity>
<!-- animacio quan el ratolÃ­ passa per damunt
    -->
</a-scene>
</body>

</html>
